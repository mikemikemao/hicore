
#PROJECT(eXosip2 C)
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

# include
INCLUDE_DIRECTORIES(.)
INCLUDE_DIRECTORIES(include)
INCLUDE_DIRECTORIES(../libosip2/include)

ADD_DEFINITIONS(
	-DHAVE_CONFIG_H
	-DREJECT_DOUBLE_REGISTRATION
	-DSRV_RECORD
	-DOSIP_MT
	-DENABLE_TRACE
	-DSYSTEM_LOGGER_ENABLED
	)

AUX_SOURCE_DIRECTORY(src SRCS_EXOSIP2 )

#ADD_VIS_LIBRARY( eXosip2 ${SRCS_EXOSIP2} )

ADD_LIBRARY( eXosip2 SHARED ${SRCS_EXOSIP2} )

#IF (VENUS_PLATFORM STREQUAL R2)
	TARGET_LINK_LIBRARIES(eXosip2 osip2 osipparser2)
#ENDIF()

INSTALL( TARGETS eXosip2 DESTINATION ${INSTALL_PATH}/lib )

INSTALL(DIRECTORY include/eXosip2 DESTINATION ${INSTALL_PATH}/include)
